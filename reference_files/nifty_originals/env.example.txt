# Bot Configuration
BOT_USERNAME=nifty

# Integration Settings
ENABLE_MATRIX=true
ENABLE_DISCORD=false
ENABLE_TELEGRAM=false
ENABLE_WHATSAPP=false
ENABLE_MESSENGER=false
ENABLE_INSTAGRAM=false

# Matrix Configuration
MATRIX_HOMESERVER=https://your-homeserver.com
MATRIX_USERNAME=@your-bot:your-homeserver.com
MATRIX_PASSWORD=your-secure-password

# Matrix E2EE (End-to-End Encryption) Settings
# Enable/disable E2EE support for Matrix
# Note: Requires additional setup and storage for encryption keys
MATRIX_ENABLE_E2EE=false
MATRIX_STORE_PATH=./matrix_store

# Matrix Performance Settings
# Sync timeout in milliseconds (how long to wait for new events)
MATRIX_SYNC_TIMEOUT=10000
# Request timeout in seconds for Matrix API calls
MATRIX_REQUEST_TIMEOUT=20
# Keepalive interval in seconds (how often to send keepalive messages)
MATRIX_KEEPALIVE_INTERVAL=60
# Full sync interval in seconds (how often to do a full sync)
MATRIX_FULL_SYNC_INTERVAL=1800

# Matrix Auto-Invite Settings
# Enable/disable automatic acceptance of room invites
ENABLE_AUTO_INVITE=true
# Comma-separated list of Matrix user IDs allowed to invite the bot
# Leave empty to allow all users, or specify users like: @user1:server.com,@user2:server.com
ALLOWED_INVITE_USERS=

# Discord Configuration
DISCORD_TOKEN=your-discord-bot-token
DISCORD_COMMAND_PREFIX=!
DISCORD_ALLOWED_GUILDS=guild_id1,guild_id2

# Telegram Configuration
TELEGRAM_BOT_TOKEN=your-telegram-bot-token
TELEGRAM_ALLOWED_USERS=user_id1,user_id2
TELEGRAM_ALLOWED_GROUPS=group_id1,group_id2

# Twilio Configuration (for WhatsApp, Messenger, Instagram)
TWILIO_ACCOUNT_SID=your-twilio-account-sid
TWILIO_AUTH_TOKEN=your-twilio-auth-token
TWILIO_WHATSAPP_NUMBER=whatsapp:+14155238886
TWILIO_MESSENGER_PAGE_ID=your-messenger-page-id
TWILIO_INSTAGRAM_ACCOUNT_ID=your-instagram-account-id
TWILIO_WEBHOOK_BASE_URL=https://your-domain.com
TWILIO_WEBHOOK_PORT=5000

# WhatsApp Configuration
WHATSAPP_ALLOWED_NUMBERS=+1234567890,+0987654321

# Messenger Configuration
MESSENGER_ALLOWED_USERS=user_id1,user_id2

# Instagram Configuration
INSTAGRAM_ALLOWED_USERS=user_id1,user_id2

# ============================================
# Settings Management Configuration
# ============================================

# Enable/disable settings management functionality
ENABLE_SETTINGS_MANAGEMENT=true

# Authorized users who can manage bot settings
# Matrix: Use full Matrix user IDs like @user:server.com
# Discord: Use Discord user IDs (numeric)
# Telegram: Use Telegram user IDs (numeric)
# Leave empty to disable settings management for that platform
SETTINGS_AUTHORIZED_MATRIX_USERS=@admin:your-homeserver.com
SETTINGS_AUTHORIZED_DISCORD_USERS=123456789012345678
SETTINGS_AUTHORIZED_TELEGRAM_USERS=123456789

# Allow settings changes to persist across restarts
SETTINGS_PERSISTENCE=true

# Settings file location (for persistent storage)
SETTINGS_FILE_PATH=./settings.json

# ============================================
# LLM Provider Configuration
# ============================================

# Choose between 'openrouter' or 'ollama'
LLM_PROVIDER=openrouter

# OpenRouter API Configuration
OPENROUTER_API_KEY=your-openrouter-api-key
OPENROUTER_URL=https://openrouter.ai/api/v1/chat/completions
OPENROUTER_MODEL=deepseek/deepseek-chat-v3-0324:free
# Fallback model to use if the primary model is unavailable
# Leave empty to disable fallback functionality
OPENROUTER_FALLBACK_MODEL=meta-llama/llama-3.2-3b-instruct:free

# Ollama Configuration
# Default URL assumes Ollama is running locally
OLLAMA_URL=http://localhost:11434
# Available models: llama2, mistral, codellama, etc.
# Run 'ollama list' to see installed models
OLLAMA_MODEL=llama2
# How long to keep the model loaded in memory (e.g., 5m, 1h)
OLLAMA_KEEP_ALIVE=5m
# Maximum number of tokens to generate
OLLAMA_NUM_PREDICT=500
# Temperature for generation (0.0 to 1.0, higher = more creative)
OLLAMA_TEMPERATURE=0.8
# Top-k sampling (higher = more diverse)
OLLAMA_TOP_K=40
# Top-p (nucleus) sampling (0.0 to 1.0)
OLLAMA_TOP_P=0.9
# Repetition penalty (1.0 = no penalty, higher = less repetition)
OLLAMA_REPEAT_PENALTY=1.1
# Interval in seconds between model warm-ups (to keep it loaded)
OLLAMA_WARM_INTERVAL=300

# Jina.ai API Configuration
JINA_API_KEY=your-jina-api-key

# Imgflip API Configuration (for meme generation)
IMGFLIP_USERNAME=your-imgflip-username
IMGFLIP_PASSWORD=your-imgflip-password
ENABLE_MEME_GENERATION=true

# Bot Filter Settings (comma-separated lists)
FILTERED_WORDS=bot1,bot2
KNOWN_BOTS=@bot1:server.com,@bot2:server.com

# Queue Settings
MAX_QUEUE_SIZE=5

# Timeout Settings (in seconds)
LLM_TIMEOUT=20
SEARCH_TIMEOUT=10
URL_FETCH_TIMEOUT=10
PRICE_FETCH_TIMEOUT=5

# ============================================
# Context Settings
# ============================================

# Basic context limits
# Maximum number of messages to keep in room history
MAX_ROOM_HISTORY=20
# How many messages to look back for context
MAX_CONTEXT_LOOKBACK=5
# Maximum number of important messages to track
MAX_IMPORTANT_MESSAGES=3

# Master switch for context analysis features
# Set to false for faster, simpler responses
ENABLE_CONTEXT_ANALYSIS=false

# Detailed context feature toggles
# Track conversation topics over time
ENABLE_TOPIC_TRACKING=false
# Track user interests and preferences
ENABLE_USER_INTERESTS=false
# Detect and prioritize important messages
ENABLE_IMPORTANCE_DETECTION=false
# Analyze conversation flow and threads
ENABLE_CONVERSATION_FLOW=false

# Context inclusion settings
# Whether to include context in LLM prompts
INCLUDE_CONTEXT_IN_PROMPT=true
# Maximum characters of context to include in prompts
MAX_CONTEXT_CHARS=500

# Context cleanup settings
# How often to clean up old context (in seconds)
CONTEXT_CLEANUP_INTERVAL=3600
# How old context must be before cleanup (in seconds)
CONTEXT_CLEANUP_AGE=86400

# Retry Settings
MAX_RETRIES=2
BASE_RETRY_DELAY=1

# Price Tracking Settings
PRICE_CACHE_TTL=300
ENABLE_PRICE_TRACKING=true

# Stock Market Settings
ENABLE_STOCK_MARKET=true

# Web Search Settings
# Disabled by default for faster responses
ENABLE_WEB_SEARCH=false

# ============================================
# Traefik & Domain Configuration
# ============================================

# Primary domain for your services
DOMAIN=your-domain.com

# Subdomain for the bot's webhook endpoint (if using Twilio)
BOT_SUBDOMAIN=bot

# Subdomain for Traefik dashboard (optional)
TRAEFIK_SUBDOMAIN=traefik

# Let's Encrypt Configuration
ACME_EMAIL=your-email@example.com

# Traefik Dashboard Authentication
# Generate with: htpasswd -nb admin your-password
# Note: Dollar signs ($) must be escaped as ($$) in docker-compose
# Example: admin:$$2y$$10$$...
TRAEFIK_DASHBOARD_AUTH=admin:$$2y$$10$$your-hashed-password-here

# ============================================
# Docker & Deployment Settings
# ============================================

# Environment (development, staging, production)
ENVIRONMENT=production

# Docker network name (must match docker-compose network)
DOCKER_NETWORK=bot-network

# Container restart policy
RESTART_POLICY=unless-stopped

# ============================================
# Logging Configuration
# ============================================

# Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# Log retention
LOG_MAX_SIZE=10m
LOG_MAX_FILES=3

# Traefik access log
ENABLE_ACCESS_LOG=true

# ============================================
# Security Settings
# ============================================

# Rate limiting (requests per minute)
RATE_LIMIT_PER_MINUTE=60

# IP Whitelist (comma-separated, leave empty to allow all)
# Example: 192.168.1.0/24,10.0.0.0/8
IP_WHITELIST=

# Enable/Disable Traefik dashboard in production
ENABLE_TRAEFIK_DASHBOARD=false

# ============================================
# SSL/TLS Configuration
# ============================================

# Use Let's Encrypt staging server for testing
# Set to true when testing to avoid rate limits
USE_LETSENCRYPT_STAGING=false

# Minimum TLS version
TLS_MIN_VERSION=1.2

# ============================================
# Backup Configuration (Optional)
# ============================================

# Backup directory for persistent data
BACKUP_DIR=/backups

# Backup retention days
BACKUP_RETENTION_DAYS=30
